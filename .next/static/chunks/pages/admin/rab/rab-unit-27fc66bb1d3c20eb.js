(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4943],{95324:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/rab/rab-unit",function(){return s(23933)}])},23933:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return T},default:function(){return P}});var r=s(85893),n=s(67294),a=s(9008),l=s.n(a),i=s(64411),o=s(25792),c=s(56114),d=s(4570),u=s(93967),h=s.n(u),m=s(63829),x=s(50807),p=s(99961),g=s(57694),j=s(28443),f=s(85632),b=s(69776),y=s(8697),_=s(57607),Z=s(13660);let E=async e=>{let t={name:e.name};console.log(t);try{return await Z.Z.post("/rab-unit",t)}catch(e){return e.response?console.log("Error Response:",e.response.data):e.request?console.log("Error Request:",e.request):console.log("Error:",e.message),e}},N=async e=>{try{return await Z.Z.delete("/rab-unit/".concat(e))}catch(e){return e.response?console.log("Error Response:",e.response.data):e.request?console.log("Error Request:",e.request):console.log("Error:",e.message),e.response}};var C=s(77630),S=s.n(C),v=s(86455),w=s.n(v);let k=e=>{let{status:t}=e,s={icon:"success",title:"Berhasil ".concat(t),message:"Data lahan telah di ".concat("add"===t?"Tambah":"update"===t?"Update":"hapus"===t?"Hapus":"")};S()(w()).fire({icon:s.icon,title:s.title,text:s.message})};var O=e=>{let{isFluid:t}=e,{themeStatus:s,darkModeStatus:a}=(0,i.Z)(),[l,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(!1),[u,Z]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[v,w]=(0,n.useState)(!1),[O,T]=(0,n.useState)(!1),P=()=>{T(!C)},[B,q]=(0,n.useState)(!1),[L,R]=(0,n.useState)(""),D=async e=>{let t=await N(e);if(console.log(t),200!==t.status)return"";k({status:"hapus"}),M(!I),q(!1)},[U,z]=(0,n.useState)(!1),H=(0,m.TA)({enableReinitialize:!0,initialValues:{name:""},validate:e=>{let t={};return e.name||(t.name="Required"),t},validateOnChange:!1,onSubmit:async(e,t)=>{let{resetForm:s}=t;console.log(e);let r=await E(e);if(console.log(r),H.resetForm(),(null==r?void 0:r.status)!==200)return"";k({status:"add"}),s(),M(!I)}}),[I,M]=(0,n.useState)(!1),[A,F]=(0,n.useState)([]),[J,V]=(0,n.useState)(1),[$,X]=(0,n.useState)(b.LD["5"]),{items:G,requestSort:W,getClassNamesFor:K}=(0,y.Z)(A),Q=async()=>{try{d(!1);let e=await (0,_.ZJ)();if(console.log(e.data),200==e.code){let t=e.data;F(t),M(!I)}else F([]);d(!0)}catch(e){console.log(e),d(!1)}};return(0,n.useEffect)(()=>{Q()},[I]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(x.ZP,{stretch:t,children:[(0,r.jsxs)(x.Ol,{borderSize:1,children:[(0,r.jsx)(x.oL,{icon:"Money",iconColor:"success",children:(0,r.jsx)(x.ll,{children:"Data RAB Unit"})}),(0,r.jsx)(x.T$,{children:(0,r.jsx)(p.Z,{color:"primary",icon:"Add",isLight:!0,onClick:()=>{z(!0)},children:"Tambah Unit"})})]}),(0,r.jsx)(x.eW,{className:"table-responsive",isScrollable:t,children:(0,r.jsxs)("table",{className:"table table-modern",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"No"}),(0,r.jsx)("th",{children:"Nama Unit"}),(0,r.jsx)("td",{style:{width:60}}),(0,r.jsx)("td",{})]})}),(0,r.jsx)("tbody",{children:(0,b.c9)(G,J,$).map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:++t}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"d-flex",children:(0,r.jsx)("div",{className:"flex-grow-1 ms-3 d-flex align-items-center text-nowrap",children:e.name})})}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"d-flex flew-row",children:[(0,r.jsx)(p.Z,{isOutline:!a,color:"dark",isLight:a,className:h()("text-nowrap",{"border-light":!a},"mx-3"),icon:"Edit",onClick:P,children:"Edit"}),(0,r.jsx)(p.Z,{isOutline:!a,color:"danger",isLight:a,className:h()("text-nowrap",{"border-light":!a}),icon:"Delete",onClick:()=>D(L),children:"Hapus"})]})})]},t))})]})}),(0,r.jsx)(b.ZP,{data:G,label:"items",setCurrentPage:V,currentPage:J,perPage:$,setPerPage:X})]}),(0,r.jsxs)(g.ZP,{isOpen:U,setIsOpen:z,titleId:"exampleModalLabel",isScrollable:!0,isCentered:!0,isAnimation:!1,children:[(0,r.jsx)(g.xB,{children:(0,r.jsx)(g.r6,{id:"exampleModalLabel",tag:"h2",className:"m-3",children:"Tambah Unit"})}),(0,r.jsx)(g.fe,{children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),H.handleSubmit(e)},children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{children:(0,r.jsx)(j.Z,{id:"exampleTypesPlaceholder--$",label:"Nama Item",labelClassName:"text-capitalize",children:(0,r.jsx)(f.Z,{type:"text",placeholder:"","aria-label":".form-control-lg example",name:"name",value:H.values.name,isTouched:H.touched.name,onChange:H.handleChange,onBlur:H.handleBlur,invalidFeedback:H.errors.name})})})}),(0,r.jsxs)(g.mz,{children:[(0,r.jsx)(p.Z,{color:"info",isOutline:!0,className:"border-0",onClick:()=>z(!1),children:"Close"}),(0,r.jsx)(p.Z,{type:"submit",color:"info",icon:"Save",children:"Simpan"})]})]})})]}),(0,r.jsxs)(g.ZP,{isOpen:O,setIsOpen:T,titleId:"exampleModalLabel",isScrollable:!0,isCentered:!0,isAnimation:!1,children:[(0,r.jsx)(g.xB,{children:(0,r.jsx)(g.r6,{id:"exampleModalLabel",tag:"h2",className:"m-3",children:"Edit Unit"})}),(0,r.jsx)(g.fe,{children:(0,r.jsx)("form",{children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{children:(0,r.jsx)(j.Z,{id:"exampleTypesPlaceholder--$",label:"Judul",labelClassName:"text-capitalize",children:(0,r.jsx)(f.Z,{type:"text",placeholder:"","aria-label":".form-control-lg example"})})})})})}),(0,r.jsxs)(g.mz,{children:[(0,r.jsx)(p.Z,{color:"info",isOutline:!0,className:"border-0",onClick:()=>T(!1),children:"Close"}),(0,r.jsx)(p.Z,{color:"info",icon:"Save",children:"Simpan"})]})]}),(0,r.jsxs)(g.ZP,{isOpen:v,setIsOpen:w,titleId:"exampleModalLabel",isScrollable:!0,isCentered:!0,isAnimation:!1,children:[(0,r.jsx)(g.xB,{children:(0,r.jsx)(g.r6,{id:"exampleModalLabel",tag:"h2",className:"m-3",children:"Hapus Unit"})}),(0,r.jsxs)(g.mz,{children:[(0,r.jsx)(p.Z,{color:"info",isOutline:!0,className:"border-0",onClick:()=>w(!1),children:"Close"}),(0,r.jsx)(p.Z,{color:"danger",icon:"Delete",children:"Hapus"})]})]})]})},T=!0,P=()=>{let{themeStatus:e}=(0,i.Z)();return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:c.sn.projects.subMenu.rabUnit.text})}),(0,r.jsx)(d.Z,{container:"fluid",children:(0,r.jsx)("div",{className:"row h-100",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)(O,{isFluid:!0})})})})]})}},57607:function(e,t,s){"use strict";s.d(t,{JJ:function(){return n},ZJ:function(){return a}});var r=s(13660);let n=async()=>{try{return await r.Z.get("/rab-item")}catch(e){return e.response?console.log("Error Response:",e.response.data):e.request?console.log("Error Request:",e.request):console.log("Error:",e.message),e.response}},a=async()=>{try{return(await r.Z.get("/rab-unit")).data}catch(e){return e.response?console.log("Error Response:",e.response.data):e.request?console.log("Error Request:",e.request):console.log("Error:",e.message),e}}},13660:function(e,t,s){"use strict";var r=s(87066),n=s(29204),a=s(31955);let l=r.default.create({baseURL:"/",headers:new n.uu({"Content-Type":"application/json"})});l.interceptors.request.use(e=>{let t=a.Z.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),t.Z=l},9008:function(e,t,s){e.exports=s(7828)},77630:function(e,t,s){var r;r=function(e,t){"use strict";let s=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],r=()=>{};return function(n){function a(t){let r={},n={},a=s.map(e=>e.key);return Object.entries(t).forEach(t=>{let[s,l]=t;a.includes(s)&&e.isValidElement(l)?(r[s]=l,n[s]=" "):n[s]=l}),[r,n]}function l(e,r){Object.entries(r).forEach(r=>{let[a,l]=r,i=s.find(e=>e.key===a).getter(n),o=t.createRoot(i);o.render(l),e.__roots.push(o)})}function i(e){e.__roots.forEach(e=>{e.unmount()}),e.__roots=[]}return class extends n{static argsToParams(t){if(!(e.isValidElement(t[0])||e.isValidElement(t[1])))return n.argsToParams(t);{let e={};return["title","html","icon"].forEach((s,r)=>{void 0!==t[r]&&(e[s]=t[r])}),e}}_main(e,t){this.__roots=[],this.__params=Object.assign({},t,e);let[s,n]=a(this.__params),o=n.willOpen||r,c=n.didOpen||r,d=n.didDestroy||r;return super._main(Object.assign({},n,{willOpen:e=>{l(this,s),o(e)},didOpen:e=>{setTimeout(()=>{c(e)})},didDestroy:e=>{d(e),i(this)}}))}update(e){Object.assign(this.__params,e),i(this);let[t,s]=a(this.__params);super.update(s),l(this,t)}}}},e.exports=r(s(67294),s(20745))}},function(e){e.O(0,[8166,1118,3783,2888,9774,179],function(){return e(e.s=95324)}),_N_E=e.O()}]);