(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{27962:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/lahan",function(){return l(23729)}])},2363:function(e,a,l){"use strict";var n=l(85893),s=l(67294),r=l(45697),t=l.n(r),i=l(93967),o=l.n(i),c=l(94940),d=l(99680),h=l(70836);let m=(0,c.QM)({dynamicSize:e=>({height:e.size,width:e.size})},{link:!0}),u=(0,s.forwardRef)((e,a)=>{let{tag:l,color:s,isGrow:r,isSmall:t,size:i,children:c,inButton:u,className:x,...p}=e,{mounted:j}=(0,h.Z)(),g=m({size:i}),_=(0,n.jsx)("span",{className:"visually-hidden",children:c});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{ref:a,tag:u?"span":l,className:o()({"spinner-border":!r,"spinner-grow":r},{"spinner-border-sm":!r&&t,"spinner-grow-sm":r&&t},{["text-".concat(s)]:s},{[g.dynamicSize]:j&&i},{"me-2":"onlyIcon"!==u&&!!u},x),role:"status","aria-hidden":u?"true":null,...p,children:"onlyIcon"!==u&&u?_:""}),"onlyIcon"===u?_:null]})});u.displayName="Spinner",u.propTypes={children:t().node,tag:t().oneOf(["div","span"]),color:t().oneOf(["primary","secondary","success","info","warning","danger","light","dark"]),isGrow:t().bool,isSmall:t().bool,size:t().oneOfType([t().string,t().number]),inButton:t().oneOfType([t().bool,t().oneOf(["onlyIcon"])]),className:t().string},u.defaultProps={children:"Loading...",tag:"div",color:null,isGrow:!1,isSmall:!1,size:null,inButton:!1,className:void 0},a.Z=u},97602:function(e,a,l){"use strict";var n=l(85893);l(67294);var s=l(97500),r=l(3455);a.Z=()=>(0,n.jsx)(s.Z,{id:"exampleTypesPlaceholder--$",label:"Tipe Pembayaran :",labelClassName:"text-capitalize",children:(0,n.jsx)(r.Z,{ariaLabel:"Default select example",placeholder:"-- Pilih --",list:[{value:1,text:"Tunai"},{value:2,text:"Kredit"}]})})},23729:function(e,a,l){"use strict";l.r(a),l.d(a,{__N_SSG:function(){return E},default:function(){return R}});var n=l(85893),s=l(67294),r=l(9008),t=l.n(r),i=l(64411),o=l(25792),c=l(56114),d=l(4570),h=l(93967),m=l.n(h),u=l(27484),x=l.n(u),p=l(63829),j=l(45908),g=l(99961),_=l(32584),b=l(57694),v=l(97500),N=l(85632),f=l(6767),y=l(69776),w=l(8697),T=l(3455),C=l(97602),Z=l(38065),k=l(77630),P=l.n(k),z=l(86455),S=l.n(z),L=l(2363),B=l(93161);let q=e=>{let{status:a}=e,l={icon:"success",title:"Berhasil ".concat(a),message:"Data lahan telah di ".concat("add"===a?"Tambah":"update"===a?"Update":"hapus"===a?"Hapus":"")};P()(S()).fire({icon:l.icon,title:l.title,text:l.message})};var O=e=>{let{isFluid:a}=e,{themeStatus:l,darkModeStatus:r}=(0,i.Z)(),[t,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[h,u]=(0,s.useState)(!1),[k,P]=(0,s.useState)(!1),z=async e=>{console.log((await (0,Z.mr)(e)).data)},[S,O]=(0,s.useState)(!1),[E,R]=(0,s.useState)(!1),F=(0,p.TA)({enableReinitialize:!0,initialValues:{land_name:"",acquisition_date:"",land_owner:"",land_owner_phone:"",area_size:"",price_per_m2:"",note:"",notify:!0},validate:e=>{let a={};return e.land_name||(a.land_name="Required"),e.land_owner||(a.land_owner="Required"),e.acquisition_date||(a.acquisition_date="Required"),e.area_size||(a.area_size="Required"),e.price_per_m2||(a.price_per_m2="Required"),e.note||(a.note="Required"),e.land_owner_phone?e.land_owner_phone.length>=18&&(a.land_owner_phone="Nomor HP minimal 18 characters"):a.land_owner_phone="Required",a},validateOnChange:!1,onSubmit:async(e,a)=>{let{resetForm:l}=a;console.log(e);let n=await (0,Z.Ug)(e);if(console.log(n),F.resetForm(),(null==n?void 0:n.status)!==200)return"";q({status:"add"}),l(),o(!t)}}),[D,H]=(0,s.useState)([]);console.log(D);let[M,$]=(0,s.useState)(1),[A,X]=(0,s.useState)(y.LD["5"]),{items:I,requestSort:U,getClassNamesFor:G}=(0,w.Z)(D),V=async()=>{try{u(!1);let e=await (0,Z.Gk)();if(200===e.status){let a=e.data;H(a.data)}u(!0)}catch(e){console.log(e),u(!1)}};return(0,s.useEffect)(()=>{V()},[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(j.ZP,{stretch:a,children:[(0,n.jsxs)(j.Ol,{borderSize:1,children:[(0,n.jsx)(j.oL,{icon:"Alarm",iconColor:"info",children:(0,n.jsx)(j.ll,{children:"Data Lahan"})}),(0,n.jsx)(j.T$,{children:(0,n.jsx)(g.Z,{color:"primary",icon:"Add",isLight:!0,onClick:()=>{R(!0),F.resetForm()},children:"Tambah Lahan"})})]}),h?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.eW,{className:"table-responsive",isScrollable:a,children:(0,n.jsxs)("table",{className:"table table-modern",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"No"}),(0,n.jsxs)("th",{onClick:()=>U("date"),className:"cursor-pointer text-decoration-underline",children:["Tanggal Perolehan"," ",(0,n.jsx)(_.Z,{size:"lg",className:G("date"),icon:"FilterList"})]}),(0,n.jsx)("th",{children:"Nama Lahan"}),(0,n.jsx)("th",{children:"Pemilik Tanah"}),(0,n.jsx)("th",{children:"Luas Area (m2)"}),(0,n.jsx)("th",{children:"Harga per m2"}),(0,n.jsx)("th",{style:{width:150},children:"Catatan"}),(0,n.jsx)("td",{style:{width:60}}),(0,n.jsx)("td",{})]})}),(0,n.jsx)("tbody",{children:D.length>0?(0,n.jsx)(n.Fragment,{children:(0,y.c9)(I,M,A).map((e,a)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:++a}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"d-flex align-items-center",children:(0,n.jsx)("span",{className:"text-nowrap",children:x()("".concat(e.acquisition_date)).format("DD-MMMM-YYYY")})})}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"d-flex",children:(0,n.jsx)("div",{className:"flex-grow-1 ms-3 d-flex align-items-center text-nowrap",children:e.land_name})})}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{children:e.land_owner})}),(0,n.jsxs)("td",{className:"text-nowrap",children:[e.area_size," m2"]}),(0,n.jsx)("td",{className:"text-nowrap",children:(0,B.q2)(e.price_per_m2)}),(0,n.jsx)("td",{className:"text-nowrap",children:e.note}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"d-flex flew-row",children:(0,n.jsx)(g.Z,{isOutline:!r,color:"dark",isLight:r,className:m()("text-nowrap",{"border-light":!r},"mx-3"),icon:"Edit",onClick:()=>z(e.uuid),children:"Edit"})})})]},a))}):(0,n.jsx)("td",{colSpan:9,children:(0,n.jsx)("h6",{className:"text-center text-nowrap mt-2",children:"Tidak ada data"})})})]})}),(0,n.jsx)(y.ZP,{data:I,label:"items",setCurrentPage:$,currentPage:M,perPage:A,setPerPage:X})]}):(0,n.jsx)("div",{className:"m-5 text-center",children:(0,n.jsx)(L.Z,{size:50,color:"primary"})})]}),(0,n.jsxs)(b.ZP,{isOpen:E,setIsOpen:R,titleId:"exampleModalLabel",isScrollable:!0,isCentered:!0,size:"xl",fullScreen:"xl",isAnimation:!1,children:[(0,n.jsx)(b.xB,{children:(0,n.jsx)(b.r6,{id:"exampleModalLabel",tag:"h2",className:"m-3",children:"Tambah Data Lahan"})}),(0,n.jsx)(b.fe,{children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),F.handleSubmit(e)},children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-lg",children:[(0,n.jsxs)("div",{className:"row g-4",children:[(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Nama Tanah",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"text",placeholder:"Masukkan Nama Tanah","aria-label":".form-control-lg example",name:"land_name",value:F.values.land_name,isTouched:F.touched.land_name,onChange:F.handleChange,onBlur:F.handleBlur,invalidFeedback:F.errors.land_name})})}),(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Nama Pemilik Tanah",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"text",placeholder:"Masukkan Nama Pemilik Tanah","aria-label":".form-control-lg example",name:"land_owner",value:F.values.land_owner,isTouched:F.touched.land_owner,onChange:F.handleChange,onBlur:F.handleBlur,invalidFeedback:F.errors.land_owner})})})]}),(0,n.jsxs)("div",{className:"row g-4 mt-2",children:[(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Tanggal Perolehan",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"date",placeholder:"Tanggal Perolehan Lahan","aria-label":".form-control-lg example",name:"acquisition_date",value:F.values.acquisition_date,isTouched:F.touched.acquisition_date,onChange:F.handleChange,onBlur:F.handleBlur,invalidFeedback:F.errors.acquisition_date})})}),(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"No. Hp Tuan Tanah (digit tidak harus terisi semua)",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"tel",placeholder:"08XX-XXXX-XXXX",name:"land_owner_phone",mask:"089-9999-9999-99",value:F.values.land_owner_phone.replace(/_/g,"").replace(/-/g,""),isTouched:F.touched.land_owner_phone,onChange:e=>{let a=e.target.value.replace(/_/g,"").replace(/-/g,"");console.log(a),F.setFieldValue("land_owner_phone",a)},onBlur:F.handleBlur,invalidFeedback:F.errors.land_owner_phone})})})]}),(0,n.jsxs)("div",{className:"row g-4 mt-2",children:[(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--",label:"Luas Area",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"number",placeholder:"Luas Area Tanah","aria-label":".form-control-lg example",name:"area_size",value:F.values.area_size,isTouched:F.touched.area_size,onChange:F.handleChange,onBlur:F.handleBlur,invalidFeedback:F.errors.area_size})})}),(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Harga per m^2",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"number",placeholder:"Harga tanah per m^2",name:"price_per_m2",value:F.values.price_per_m2,isTouched:F.touched.price_per_m2,onChange:F.handleChange,onBlur:F.handleBlur,invalidFeedback:F.errors.price_per_m2})})})]}),(0,n.jsx)("div",{className:"row g-4 mt-2 mx-auto",children:(0,n.jsx)("div",{className:"col-md-6",children:(0,n.jsx)(v.Z,{id:"exampleSizeTextarea",label:"Catatan",children:(0,n.jsx)(f.Z,{name:"note",value:F.values.note,isTouched:F.touched.note,onChange:F.handleChange,onBlur:F.handleBlur,invalidFeedback:F.errors.note,placeholder:"Catatan mengenai lahan"})})})})]})}),(0,n.jsxs)(b.mz,{children:[(0,n.jsx)(g.Z,{color:"info",isOutline:!0,className:"border-0",onClick:()=>R(!1),children:"Close"}),(0,n.jsx)(g.Z,{type:"submit",color:"info",icon:"Save",children:"Tambah Lahan"})]})]})})]}),(0,n.jsxs)(b.ZP,{isOpen:k,setIsOpen:P,titleId:"exampleModalLabel",isScrollable:!0,isCentered:!0,size:"xl",fullScreen:"xl",isAnimation:!1,children:[(0,n.jsx)(b.xB,{children:(0,n.jsx)(b.r6,{id:"exampleModalLabel",tag:"h2",className:"m-3",children:"Edit Data Lahan"})}),(0,n.jsx)(b.fe,{children:(0,n.jsx)("form",{children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-lg-6",children:[(0,n.jsxs)("div",{className:"row g-4",children:[(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Nama Tanah",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"text",placeholder:"Masukkan Nama Tanah","aria-label":".form-control-lg example"})})}),(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Untuk Cluster/Proyek",labelClassName:"text-capitalize",children:(0,n.jsx)(T.Z,{ariaLabel:"Default select example",placeholder:"-- Pilih Perumahan --",list:[{value:"Cluster 1",text:"Cluster 1"},{value:"Cluster 2",text:"Cluster 2"},{value:"Cluster 3",text:"Cluster 3"}]})})})]}),(0,n.jsxs)("div",{className:"row g-4 mt-2",children:[(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Tanggal Perolehan",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"date",placeholder:"Tanggal Perolehan Lahan","aria-label":".form-control-lg example"})})}),(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"No. Hp Tuan Tanah",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"tel",placeholder:"+1 (999) 999-9999",autoComplete:"tel",mask:"+1 (999) 999-9999"})})})]}),(0,n.jsxs)("div",{className:"row g-4 mt-2",children:[(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--",label:"Luas Area",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"number",placeholder:"Luas Area Tanah","aria-label":".form-control-lg example"})})}),(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Harga per m^2",labelClassName:"text-capitalize",children:(0,n.jsx)(N.Z,{type:"number",placeholder:"Harga tanah per m^2"})})})]}),(0,n.jsx)("div",{className:"row g-4 mt-2",children:(0,n.jsx)(v.Z,{id:"exampleSizeTextarea",label:"Catatan",children:(0,n.jsx)(f.Z,{placeholder:"Catatan mengenai lahan"})})})]}),(0,n.jsxs)("div",{className:"col-lg-6",children:[(0,n.jsx)("div",{className:"row g-4",children:(0,n.jsx)(v.Z,{id:"exampleTypesPlaceholder--$",label:"Dicatat sebagai :",labelClassName:"text-capitalize",children:(0,n.jsx)(T.Z,{ariaLabel:"Default select example",placeholder:"-- Pilih Catatan --",list:[{value:"Belum",text:"Pembelian Laham Baru (Belum dicatat pada Persediaan Tanah"},{value:"Sudah",text:"Sebelumnya sudah dibeli (Sudah dicatat Persediaan Tanah"}]})})}),(0,n.jsx)("div",{className:"row g-4 mt-2",children:(0,n.jsx)(C.Z,{})})]})]})})}),(0,n.jsxs)(b.mz,{children:[(0,n.jsx)(g.Z,{color:"info",isOutline:!0,className:"border-0",onClick:()=>P(!1),children:"Close"}),(0,n.jsx)(g.Z,{color:"info",icon:"Save",children:"Update Lahan"})]})]}),(0,n.jsxs)(b.ZP,{isOpen:S,setIsOpen:O,titleId:"exampleModalLabel",isScrollable:!0,isCentered:!0,size:"sm",fullScreen:"sm",isAnimation:!1,children:[(0,n.jsx)(b.xB,{children:(0,n.jsx)(b.r6,{id:"exampleModalLabel",tag:"h2",className:"m-3",children:"Hapus Lahan ?"})}),(0,n.jsxs)(b.mz,{children:[(0,n.jsx)(g.Z,{color:"info",isOutline:!0,className:"border-0",onClick:()=>O(!1),children:"Close"}),(0,n.jsx)(g.Z,{color:"danger",icon:"Delete",children:"Hapus"})]})]})]})},E=!0,R=()=>{var e;let{themeStatus:a}=(0,i.Z)();return(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(t(),{children:(0,n.jsx)("title",{children:null!==(e=c.sn.lahan.text)&&void 0!==e?e:"-"})}),(0,n.jsx)(d.Z,{container:"fluid",children:(0,n.jsx)("div",{className:"row h-100",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsx)(O,{isFluid:!0})})})})]})}},38065:function(e,a,l){"use strict";l.d(a,{Gk:function(){return s},Ug:function(){return r},mr:function(){return t}});var n=l(13660);let s=async()=>{try{return await n.Z.get("/land")}catch(e){return e.response?(console.log("Error Response:",e.response.status),console.log("Error Response:",e.response.data)):e.request?console.log("Error Request:",e.request):console.log("Error:",e.message),e.response}},r=async e=>{let a={land_name:e.land_name,acquisition_date:e.acquisition_date,land_owner:e.land_owner,land_owner_phone:e.land_owner_phone,area_size:e.area_size,price_per_m2:e.price_per_m2,note:e.note};try{return await n.Z.post("/land",a)}catch(e){return e.response?console.log("Error Response:",e.response.data):e.request?console.log("Error Request:",e.request):console.log("Error:",e.message),e}},t=async e=>{console.log("/land/".concat(e));try{return await n.Z.get("/land/".concat(e))}catch(e){return e.response?console.log("Error Response:",e.response.data):e.request?console.log("Error Request:",e.request):console.log("Error:",e.message),e}}},13660:function(e,a,l){"use strict";var n=l(87066),s=l(29204),r=l(31955);let t=n.default.create({baseURL:"/",headers:new s.uu({"Content-Type":"application/json"})});t.interceptors.request.use(e=>{let a=r.Z.get("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),a.Z=t},77630:function(e,a,l){var n;n=function(e,a){"use strict";let l=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],n=()=>{};return function(s){function r(a){let n={},s={},r=l.map(e=>e.key);return Object.entries(a).forEach(a=>{let[l,t]=a;r.includes(l)&&e.isValidElement(t)?(n[l]=t,s[l]=" "):s[l]=t}),[n,s]}function t(e,n){Object.entries(n).forEach(n=>{let[r,t]=n,i=l.find(e=>e.key===r).getter(s),o=a.createRoot(i);o.render(t),e.__roots.push(o)})}function i(e){e.__roots.forEach(e=>{e.unmount()}),e.__roots=[]}return class extends s{static argsToParams(a){if(!(e.isValidElement(a[0])||e.isValidElement(a[1])))return s.argsToParams(a);{let e={};return["title","html","icon"].forEach((l,n)=>{void 0!==a[n]&&(e[l]=a[n])}),e}}_main(e,a){this.__roots=[],this.__params=Object.assign({},a,e);let[l,s]=r(this.__params),o=s.willOpen||n,c=s.didOpen||n,d=s.didDestroy||n;return super._main(Object.assign({},s,{willOpen:e=>{t(this,l),o(e)},didOpen:e=>{setTimeout(()=>{c(e)})},didDestroy:e=>{d(e),i(this)}}))}update(e){Object.assign(this.__params,e),i(this);let[a,l]=r(this.__params);super.update(l),t(this,a)}}}},e.exports=n(l(67294),l(20745))}},function(e){e.O(0,[166,118,920,888,774,179],function(){return e(e.s=27962)}),_N_E=e.O()}]);